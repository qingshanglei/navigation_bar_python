<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>青杉导航姬 - Vue 2导航网站</title>

    <!-- Vue 2 -->
    <script src="https://unpkg.com/vue@2"></script>

    <!-- Element UI CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">

    <!-- Element UI JavaScript -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>

    <!-- Axios -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- 引用外部CSS文件 -->
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div id="app">
        <!-- 主导航栏 -->
        <header class="main-navbar">
            <div class="navbar-left">
                <div class="logo" @click="goHome">
                    <i class="fa-solid fa-circle-user"></i>
                    <span class="logo-text">青杉导航姬</span>
                    <span class="logo-badge">精选</span>
                </div>
                <nav class="primary-nav">
                    <div class="nav-item" :class="{ active: activeNav === 'home' }" @click="setActiveNav('home')">
                        <i class="fa-solid fa-house"></i> 首页
                    </div>
                    <div class="nav-item" :class="{ active: activeNav === 'cooperation' }"
                        @click="setActiveNav('cooperation')">
                        <i class="fa-solid fa-bullhorn"></i> 广告合作
                    </div>
                </nav>
            </div>
            <div class="navbar-right">
                <!-- 邮箱下拉菜单 -->
                <div class="nav-dropdown">
                    <div class="dropdown-trigger">
                        <i class="fa-solid fa-envelope"></i> 邮箱
                        <i class="fa-solid fa-chevron-down dropdown-arrow"></i>
                    </div>
                    <div class="dropdown-menu">
                        <a v-for="email in tobData.email" :key="email.name" :href="email.url" target="_blank"
                            class="dropdown-item">
                            <i :class="email.icon"></i> {{ email.name }}
                        </a>
                    </div>
                </div>
                <!-- 缩小到 900左右的时候 （热门推荐、编程网站、工具网站）的网格布局都是4X2(行X列),目前是16X1行X列， -->
                <!-- 网盘下拉菜单 -->
                <div class="nav-dropdown">
                    <div class="dropdown-trigger">
                        <i class="fa-solid fa-globe"></i> 网盘
                        <i class="fa-solid fa-chevron-down dropdown-arrow"></i>
                    </div>
                    <div class="dropdown-menu">
                        <a v-for="drive in tobData.drive" :key="drive.name" :href="drive.url" target="_blank"
                            class="dropdown-item">
                            <i :class="drive.icon"></i> {{ drive.name }}
                        </a>
                    </div>
                </div>

                <!-- 视频下拉菜单 -->
                <div class="nav-dropdown">
                    <div class="dropdown-trigger">
                        <i class="fa-solid fa-video"></i> 视频
                        <i class="fa-solid fa-chevron-down dropdown-arrow"></i>
                    </div>
                    <div class="dropdown-menu">
                        <a v-for="video in tobData.video" :key="video.name" :href="video.url" target="_blank"
                            class="dropdown-item">
                            <i :class="video.icon"></i> {{ video.name }}
                        </a>
                    </div>
                </div>

                <div class="login-btn" @click="handleLogin">
                    <i class="fa-solid fa-user"></i> 登录
                </div>

                <!-- 移动端菜单按钮 -->
                <button class="mobile-menu-toggle" @click="toggleMobileSidebar">
                    <i class="fa-solid fa-bars"></i>
                </button>
            </div>
        </header>

        <!-- 中心Tab导航区域 -->
        <div class="center-tab-area">
            <div class="center-tabs">
                <div v-for="tab in searchTob.centerTabs" :key="tab.key" class="center-tab-item"
                    :class="{ active: activeCenterTab === tab.key }" @click="setActiveCenterTab(tab.key)">
                    {{ tab.name }}
                </div>
            </div>

            <!-- 搜索框区域 - 始终显示 -->
            <div class="center-search-container">
                <input type="text" v-model="searchQuery" :placeholder="searchPlaceholder" class="center-search-input"
                    @keyup.enter="performSearch">
                <button class="center-search-button" @click="performSearch">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
            </div>

            <!-- 搜索引擎Tab内容 -->
            <div class="tab-content" :class="{ active: activeCenterTab === 'search' }">
                <div class="search-engine-options">
                    <div v-for="engine in searchTob.searchEngines" :key="engine.name" class="search-engine-option"
                        :class="{ active: activeSearchEngine === engine.name }"
                        @click="setActiveSearchEngine(engine.name)">
                        {{ engine.name }}
                    </div>
                </div>
            </div>

            <!-- 求职Tab内容 -->
            <div class="tab-content" :class="{ active: activeCenterTab === 'job' }">
                <div class="job-site-options">
                    <a v-for="job in searchTob.jobSites" :key="job.name" :href="job.url" target="_blank"
                        class="job-site-option">
                        {{ job.name }}
                    </a>
                </div>
            </div>
        </div>


        <!-- 主内容区域 -->
        <div class="main-content-area">
            <!-- 侧边导航栏 -->
            <aside class="sidebar">
                <nav class="sidebar-nav">
                    <div v-for="item in sidebarItems" :key="item.key" class="sidebar-item"
                        :class="{ active: activeSidebarItem === item.key }" @click="setActiveSidebarItem(item.key)">
                        <i :class="item.icon"></i>
                        <span>{{ item.name }}</span>
                    </div>
                </nav>
            </aside>

            <!-- 右侧内容区域 - 显示所有内容区域 -->
            <div class="right-content">
                <!-- 加载状态 -->
                <div v-if="isLoading" class="loading-container" style="text-align: center; padding: 40px;">
                    <i class="fa-solid fa-spinner fa-spin" style="font-size: 24px; color: #1890ff;"></i>
                    <p style="margin-top: 16px; color: #666;">正在加载数据...</p>
                </div>

                <!-- 错误状态 -->
                <div v-else-if="apiError" class="error-container" style="text-align: center; padding: 40px;">
                    <i class="fa-solid fa-exclamation-triangle" style="font-size: 24px; color: #ff4d4f;"></i>
                    <p style="margin: 16px 0; color: #666;">{{ apiError }}</p>
                    <button @click="retryLoadData"
                        style="padding: 8px 16px; background: #1890ff; color: white; border: none; border-radius: 4px; cursor: pointer;">
                        <i class="fa-solid fa-refresh"></i> 重试
                    </button>
                </div>

                <!-- 显示所有内容区域，垂直排列 -->
                <template v-else>
                    <div v-for="(section, sectionKey) in contentSections" :key="sectionKey" :id="sectionKey"
                        class="hot-recommend-container">
                        <!-- 区域标题 -->
                        <div class="section-header">
                            <i :class="section.icon"></i>
                            <h3>{{ section.title }}</h3>

                            <!-- Tab切换 (仅对tabbed-grid类型显示) -->
                            <div v-if="section.type === 'tabbed-grid'" class="section-tabs">
                                <div v-for="tab in section.tabs" :key="tab.key" class="section-tab-item"
                                    :class="{ active: getActiveTab(sectionKey) === tab.key }"
                                    @click="setActiveTab(sectionKey, tab.key)">
                                    {{ tab.name }}
                                </div>
                            </div>
                        </div>

                        <!-- 内容区域 -->
                        <!-- 青杉福利社-卡片网格类型 -->
                        <div v-if="section.type === 'card-grid'" class="card-grid">
                            <a v-for="item in section.data" :key="item.title" :href="item.url" target="_blank"
                                class="card">
                                <img :src="item.icon" :alt="item.title" class="card-icon"
                                    style="width: 24px; height: 24px;">
                                <div class="card-content">
                                    <h3>{{ item.title }}</h3>
                                    <p class="card-desc">{{ item.desc }}</p>
                                </div>
                            </a>
                        </div>

                        <!-- 热门区域-标签页网格类型 -->
                        <div v-if="section.type === 'tabbed-grid'" class="recommend-grid">
                            <a v-for="item in getCurrentSectionData(sectionKey)" :key="item.title" :href="item.url"
                                target="_blank" class="recommend-card">
                                <div class="search-card-icon" :style="{ backgroundColor: item.color }">
                                    <i :class="item.icon"></i>
                                </div>
                                <div class="search-card-content">
                                    <div class="search-card-title">{{ item.title }}</div>
                                    <div class="search-card-desc">{{ item.desc }}</div>
                                </div>
                                <div v-if="item.hot" class="hot-badge">热</div>
                            </a>
                        </div>

                        <!-- 友情链接区域-标签列表类型 -->
                        <div v-if="section.type === 'tag-list'" style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <div v-for="item in section.data" :key="item"
                                style="background-color: #252525; border: 1px solid #333; border-radius: 4px; padding: 4px 8px; color: #ccc; font-size: 12px; cursor: pointer; transition: all 0.3s ease;"
                                @mouseover="$event.target.style.backgroundColor = '#1e88e5'; $event.target.style.color = 'white'"
                                @mouseout="$event.target.style.backgroundColor = '#252525'; $event.target.style.color = '#ccc'">
                                {{ item }}
                            </div>
                        </div>

                        <!-- 分页控制 (仅对有分页的tabbed-grid类型显示) -->
                        <div v-if="section.type === 'tabbed-grid' && section.pagination && getTotalPages(sectionKey) > 1"
                            class="pagination-controls">
                            <button class="pagination-btn" :disabled="getCurrentPage(sectionKey) === 1"
                                @click="setPage(sectionKey, getCurrentPage(sectionKey) - 1)">
                                <i class="fa-solid fa-chevron-left"></i> 上一页
                            </button>
                            <span class="pagination-info">{{ getCurrentPage(sectionKey) }} / {{
                                getTotalPages(sectionKey) }}</span>
                            <button class="pagination-btn"
                                :disabled="getCurrentPage(sectionKey) === getTotalPages(sectionKey)"
                                @click="setPage(sectionKey, getCurrentPage(sectionKey) + 1)">
                                下一页 <i class="fa-solid fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </template>
            </div>
        </div>
    </div>

    <!-- 移动端侧边菜单 -->
    <div class="mobile-sidebar-overlay" :class="{ active: showMobileSidebar }" @click="closeMobileSidebar"></div>
    <div class="mobile-sidebar" :class="{ active: showMobileSidebar }">
        <div class="mobile-sidebar-header">
            <span class="mobile-sidebar-title">导航菜单</span>
            <button class="mobile-sidebar-close" @click="closeMobileSidebar">
                <i class="fa-solid fa-times"></i>
            </button>
        </div>
        <nav class="mobile-sidebar-nav">
            <div v-for="item in sidebarItems" :key="'mobile-' + item.key" class="mobile-sidebar-item"
                :class="{ active: activeSidebarItem === item.key }"
                @click="setActiveSidebarItem(item.key); closeMobileSidebar()">
                <i :class="item.icon"></i>
                <span>{{ item.name }}</span>
            </div>
        </nav>
    </div>
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                // 导航状态
                activeNav: 'home', // 当前激活的主页面Tab
                activeCenterTab: 'search', // 当前激活的中心Tab
                activeSidebarItem: 'welfare', // 当前激活的侧边栏Tab
                activeSearchEngine: 'Bing', // 当前搜索使用的搜索引擎
                showMobileSidebar: false, // 当前侧边栏是否打开

                // 搜索相关
                searchQuery: '', // 搜索查询词
                itemsPerPage: 9, // 每页显示条数，适配4行2列布局

                // API数据状态
                isLoading: false, // 数据加载状态
                apiError: null, // API错误信息
                apiData: null, // API返回的数据


                // 统一的状态管理 - 初始化所有有tab的区域
                sectionStates: {
                    // recommend: { activeTab: 'ai', currentPage: 1 }, // 热门推荐
                    // programming: { activeTab: 'platform', currentPage: 1 }, // 编程开发
                    // tools: { activeTab: 'document', currentPage: 1 } // 工具
                },

                // 统一的内容区域配置
                contentSections: {},

                // 侧边栏导航数据
                sidebarItems: [
                    // { key: 'welfare', name: '青杉福利社', icon: 'fa-solid fa-gift' },
                ],

                // 顶部导航栏数据：邮箱、网盘、视频
                tobData: {
                    // 邮箱服务数据
                    email: [
                        { name: 'QQ邮箱', url: 'https://mail.qq.com', icon: 'fa-brands fa-qq' },
                        { name: '163邮箱', url: 'https://mail.163.com', icon: 'fa-solid fa-envelope' },
                        { name: '126邮箱', url: 'https://mail.126.com', icon: 'fa-solid fa-envelope' },
                        { name: '新浪邮箱', url: 'https://mail.sina.com.cn', icon: 'fa-brands fa-weibo' },
                        { name: 'Gmail邮箱', url: 'https://mail.google.com', icon: 'fa-brands fa-google' },
                        { name: 'Outlook邮箱', url: 'https://outlook.live.com', icon: 'fa-brands fa-microsoft' }
                    ],

                    // 网盘服务数据
                    drive: [
                        { name: '123网盘', url: 'https://www.123pan.com', icon: 'fa-solid fa-database' },
                        { name: '百度网盘', url: 'https://pan.baidu.com', icon: 'fa-solid fa-paw' },
                        { name: '阿里云盘', url: 'https://www.aliyundrive.com', icon: 'fa-brands fa-alipay' },
                        { name: '夸克网盘', url: 'https://pan.quark.cn', icon: 'fa-solid fa-atom' },
                        { name: '蓝奏云盘', url: 'https://www.lanzou.com', icon: 'fa-solid fa-cloud-arrow-up' }
                    ],

                    // 视频服务数据
                    video: [
                        { name: '哔哩哔哩', url: 'https://www.bilibili.com', icon: 'fa-brands fa-bilibili' },
                        { name: '腾讯视频', url: 'https://v.qq.com', icon: 'fa-brands fa-qq' },
                        { name: '爱奇艺', url: 'https://www.iqiyi.com', icon: 'fa-solid fa-eye' },
                        { name: '优酷', url: 'https://www.youku.com', icon: 'fa-solid fa-circle-play' },
                        { name: '抖音', url: 'https://www.douyin.com', icon: 'fa-solid fa-music' },
                        { name: '小红书', url: 'https://www.xiaohongshu.com', icon: 'fa-solid fa-heart' },
                        { name: '快手', url: 'https://www.kuaishou.com', icon: 'fa-solid fa-bolt' },
                        { name: 'YouTube', url: 'https://www.youtube.com', icon: 'fa-brands fa-youtube' }
                    ]
                },
                // 搜索区数据
                searchTob: {
                    // 中心Tab数据
                    centerTabs: [
                        { key: 'search', name: '搜索引擎' },
                        { key: 'video', name: '短视频' },
                        { key: 'movie', name: '影视' },
                        { key: 'music', name: '音乐' },
                        { key: 'shopping', name: '购物' },
                        { key: 'job', name: '求职' }
                    ],

                    // 搜索引擎数据
                    searchEngines: [
                        { name: 'Bing', url: 'https://www.bing.com/search?q=' },
                        { name: 'Google', url: 'https://www.google.com/search?q=' },
                        { name: '百度', url: 'https://www.baidu.com/s?wd=' }
                    ],
                    // 求职网站数据
                    jobSites: [
                        { name: 'BOSS直聘', url: 'https://www.zhipin.com/' },
                        { name: '拉勾网', url: 'https://www.lagou.com/' },
                        { name: '猎聘网', url: 'https://www.liepin.com/' },
                        { name: '智联招聘', url: 'https://www.zhaopin.com/' },
                        { name: '实习僧', url: 'https://www.shixiseng.com/' },
                        { name: '前程无忧', url: 'https://www.51job.com/' }
                    ],
                },
            },
            computed: {
                // 根据当前激活的搜索引擎动态生成搜索框的占位符文本
                searchPlaceholder() {
                    return `${this.activeSearchEngine}全网搜索`;
                }
            },
            methods: {
                // 导航方法 - 返回首页并激活福利社侧边栏
                goHome() {
                    this.setActiveNav('home'); // 设置主页面Tab
                    this.setActiveSidebarItem('welfare'); // 设置侧边栏项
                },

                // 设置当前激活的导航栏项
                setActiveNav(nav) {
                    this.activeNav = nav; // 设置主页面Tab
                },

                // 设置当前激活的中心Tab
                setActiveCenterTab(tab) {
                    this.activeCenterTab = tab;
                },

                // 设置当前激活的侧边栏项，并平滑滚动到对应内容区域
                setActiveSidebarItem(item) {
                    this.activeSidebarItem = item;
                    // 平滑滚动到对应的内容区域
                    this.$nextTick(() => {
                        const element = document.getElementById(item);
                        if (element) {
                            element.scrollIntoView({
                                behavior: 'smooth', // 平滑滚动
                                block: 'start', // 开始位置
                                inline: 'nearest' // 最接近的元素
                            });
                        }
                    });
                },

                // 设置当前激活的搜索引擎
                setActiveSearchEngine(engine) {
                    this.activeSearchEngine = engine;
                },

                // 获取指定内容区域当前激活的tab
                getActiveTab(sectionKey) {
                    return this.sectionStates[sectionKey]?.activeTab || '';
                },

                // 获取指定内容区域当前页码
                getCurrentPage(sectionKey) {
                    return this.sectionStates[sectionKey]?.currentPage || 1;
                },

                // 设置指定内容区域激活的tab，并重置页码为第一页
                setActiveTab(sectionKey, tabKey) {
                    if (this.sectionStates[sectionKey]) {
                        this.sectionStates[sectionKey].activeTab = tabKey;
                        this.sectionStates[sectionKey].currentPage = 1; // 重置页码
                    }
                },

                // 设置指定内容区域的页码
                setPage(sectionKey, page) {
                    if (this.sectionStates[sectionKey]) {
                        const section = this.contentSections[sectionKey]; // 指定内容区域
                        if (!section) return;
                        const activeTab = this.getActiveTab(sectionKey); // 指定内容区域当前激活的tab
                        const totalItems = section.data[activeTab]?.length || 0; // 指定内容区域当前激活的tab下的总数
                        const totalPages = Math.ceil(totalItems / this.itemsPerPage); // 指定内容区域总页数

                        // if (page >= 1 && page <= totalPages) {
                        //     this.sectionStates[sectionKey].currentPage = page;
                        // }
                        // 确保页码在有效范围内
                        const validPage = Math.max(1, Math.min(page, totalPages));
                        this.$set(this.sectionStates[sectionKey], 'currentPage', validPage);

                        // 强制更新视图
                        this.$forceUpdate();
                    }
                },

                // 获取指定内容区域当前显示的数据（支持分页）
                getCurrentSectionData(sectionKey) {
                    const section = this.contentSections[sectionKey];
                    if (!section) return [];

                    if (section.type === 'tabbed-grid') {
                        const activeTab = this.getActiveTab(sectionKey);
                        const currentPage = this.getCurrentPage(sectionKey);
                        const data = section.data[activeTab] || [];

                        // 分页处理
                        const startIndex = (currentPage - 1) * this.itemsPerPage;
                        const endIndex = startIndex + this.itemsPerPage;
                        // return data.slice(startIndex, endIndex);
                        // 确保不超出数组边界
                        const slicedData = data.slice(startIndex, Math.min(endIndex, data.length));
                        return slicedData;
                    } else {
                        return section.data || [];
                    }
                },

                // 获取指定内容区域的总页数
                getTotalPages(sectionKey) {
                    const section = this.contentSections[sectionKey];
                    if (!section || section.type !== 'tabbed-grid') return 1;

                    const activeTab = this.getActiveTab(sectionKey);
                    const totalItems = section.data[activeTab]?.length || 0;
                    return Math.ceil(totalItems / this.itemsPerPage);
                },

                // 移动端菜单方法 - 切换侧边栏显示状态
                toggleMobileSidebar() {
                    this.showMobileSidebar = !this.showMobileSidebar;
                },

                // 关闭移动端侧边栏
                closeMobileSidebar() {
                    this.showMobileSidebar = false;
                },

                // 搜索框，使用当前激活的搜索引擎打开新窗口
                performSearch() {
                    if (this.searchQuery.trim()) {
                        const engine = this.searchTob.searchEngines.find(e => e.name === this.activeSearchEngine);
                        if (engine) {
                            window.open(engine.url + encodeURIComponent(this.searchQuery), '_blank');
                        }
                    }
                },

                // 处理登录事件，显示提示信息
                handleLogin() {
                    this.$message({
                        message: '登录功能开发中...',
                        type: 'info'
                    });
                },

                // API相关方法 - 异步获取首页数据
                async fetchHomeData() {
                    this.isLoading = true; // 显示加载动画
                    this.apiError = null; // 隐藏错误提示

                    try {
                        const response = await axios.get('/api/web/home');

                        if (response.data.code === 1) {
                            this.apiData = response.data.data;
                            this.processApiData();
                        } else {
                            throw new Error(response.data.msg || 'API请求失败');
                        }
                    } catch (error) {
                        console.error('获取首页数据失败:', error);
                        this.apiError = error.message || '网络请求失败，请稍后重试';
                        this.$message({
                            message: this.apiError,
                            type: 'error'
                        });
                    } finally {
                        this.isLoading = false;
                    }
                },

                // 处理API数据，转换为现有数据结构以适配页面显示
                processApiData() {
                    if (!this.apiData || !Array.isArray(this.apiData)) {
                        return;
                    }

                    // 重置内容区域
                    const newContentSections = {}; // 
                    const newSidebarItems = [];

                    // 处理API返回的分类数据
                    this.apiData.forEach((category, index) => {
                        if (category.level === 1 && category.children) {
                            // 创建侧边栏项
                            const sidebarKey = this.generateSidebarKey(category.name);
                            newSidebarItems.push({
                                key: sidebarKey,
                                name: category.name,
                                icon: this.getCategoryIcon(category.name)
                            });

                            // 处理子分类
                            if (category.children.length > 0) {
                                // 如果有多个子分类，创建tabbed-grid类型
                                if (category.children.length > 1) {
                                    const tabs = [];
                                    const data = {};

                                    category.children.forEach(subCategory => {
                                        const tabKey = this.generateTabKey(subCategory.name);
                                        tabs.push({
                                            key: tabKey,
                                            name: subCategory.name
                                        });

                                        // 转换导航项数据
                                        data[tabKey] = subCategory.navs.map(nav => ({
                                            title: nav.title,
                                            desc: nav.description || '',
                                            url: nav.url,
                                            icon: this.getNavIcon(nav.title),
                                            color: this.getRandomColor(),
                                            hot: false
                                        }));
                                    });

                                    newContentSections[sidebarKey] = {
                                        type: 'tabbed-grid',
                                        icon: this.getCategoryIcon(category.name),
                                        title: category.name,
                                        tabs: tabs,
                                        data: data,
                                        pagination: true
                                    };
                                } else {
                                    // 单个子分类，创建card-grid类型
                                    const subCategory = category.children[0];
                                    newContentSections[sidebarKey] = {
                                        type: 'card-grid',
                                        icon: this.getCategoryIcon(category.name),
                                        title: category.name,
                                        data: subCategory.navs.map(nav => ({
                                            title: nav.title,
                                            desc: nav.description || '',
                                            url: nav.url,
                                            icon: nav.icon || '/placeholder.svg?height=24&width=24'
                                        }))
                                    };
                                }
                            }
                        }
                    });

                    // 更新数据
                    this.contentSections = { ...this.contentSections, ...newContentSections };
                    this.sidebarItems = [...this.sidebarItems.filter(item => item.key === 'links'), ...newSidebarItems];

                    // 初始化状态
                    newSidebarItems.forEach(item => {
                        if (newContentSections[item.key] && newContentSections[item.key].type === 'tabbed-grid') {
                            this.$set(this.sectionStates, item.key, {
                                activeTab: newContentSections[item.key].tabs[0].key,
                                currentPage: 1
                            });
                        }
                    });
                },

                //  根据分类名称生成侧边栏项的唯一标识
                generateSidebarKey(name) {
                    const keyMap = {
                        // '编程网站': 'programming',
                    };
                    return keyMap[name] || name.toLowerCase().replace(/\s+/g, '_');
                },

                //  根据子分类名称生成Tab的唯一标识
                generateTabKey(name) {
                    const keyMap = {};
                    return keyMap[name] || name.toLowerCase().replace(/\s+/g, '_');
                },

                // 根据分类名称获取对应的图标类
                getCategoryIcon(name) {
                    const iconMap = {
                        '编程网站': 'fa-solid fa-code',
                        '工具网站': 'fa-solid fa-toolbox',
                        '设计资源': 'fa-solid fa-palette',
                        '热门推荐': 'fa-solid fa-fire',
                        '青杉福利社': 'fa-solid fa-gift'
                    };
                    return iconMap[name] || 'fa-solid fa-folder';
                },

                // 根据导航项标题获取对应的图标类
                getNavIcon(title) {
                    const iconMap = {
                        'Vue.js': 'fa-brands fa-vuejs',
                    };
                    return iconMap[title] || 'fa-solid fa-link';
                },

                //  随机获取颜色
                getRandomColor() {
                    const colors = ['#1e88e5', '#ff4081', '#10a37f', '#3385ff', '#ff6b35', '#ff6a00', '#7c3aed', '#8b5cf6'];
                    return colors[Math.floor(Math.random() * colors.length)];
                },

                // 重试加载数据方法
                retryLoadData() {
                    this.fetchHomeData();
                },

                // 设置视口高度CSS变量，用于移动端适配
                setViewportHeight() {
                    document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`);
                }
            },
            mounted() {
                // 页面加载完成
                document.body.classList.add('loaded');
                console.log('青杉导航姬 Vue 2 版本已加载完成');

                // 设置视口高度变量
                this.setViewportHeight();
                window.addEventListener('resize', this.setViewportHeight);
                window.addEventListener('orientationchange', () => {
                    setTimeout(this.setViewportHeight, 500);
                });

                // 加载API数据
                this.fetchHomeData();
            }
        });
    </script>
</body>

</html>